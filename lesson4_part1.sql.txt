-- Задание 1. 
-- пункт 1. update users set created_at = NOW(),updated_at=NOW();

-- пункт 2. 
--приведение дат к заданному формату 
alter table users change created_at created_at VARCHAR(100) null;
update users set created_at = DATE_FORMAT(created_at,'%d.%m.%Y %h:%i'),
 updated_at = DATE_FORMAT(updated_at,'%d.%m.%Y %h:%i');
-- обратное преобразование строк и колонок к датам
update users set created_at = STR_TO_DATE(created_at,'%d.%m.%Y %h:%i'),
 updated_at = STR_TO_DATE(updated_at,'%d.%m.%Y %h:%i');

alter table users change created_at created_at DATETIME DEFAULT CURRENT_TIMESTAMP;
alter table users change updated_at updated_at DATETIME DEFAULT CURRENT_TIMESTAMP;


-- пункт 3.
-- ошибки в названии колонки
alter table products rename column desription to description;
-- вставка данных
insert into storehouses(name) values('Videocards'),('processors'),('SDD'),('cables');
insert into storehouses_products(storehouse_id,product_id,value) 
values 
(
(select id from storehouses order by rand() limit 1),
(select id from products order by rand() limit 1), 
floor(1+rand()*100)
);
-- вставка нулей
insert into storehouses_products(storehouse_id,product_id,value) 
values 
(
(select id from storehouses order by rand() limit 1),
(select id from products order by rand() limit 1), 
0
);
-- сортировка по 2м критериям
select * from storehouses_products order by  if(value>0,0,1),value;


-- пункт 4.

select * from users where DATE_FORMAT(birthday_at,'%M') in ('May','August');


-- пункт 5. 
 SELECT * FROM catalogs WHERE id IN (5, 1, 2) order by field(id,5,1,2);



